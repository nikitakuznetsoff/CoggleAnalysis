{% extends "base.html" %}

{% block site_title %}Авторизация{% endblock %}

{% block content %}
    <div class="container mx-auto mt-5" style="width: 350px">
        <p class="text-center font-weight-bolder mt-4" >Авторизация</p>
        <form method="post" action="{% url 'login' %}">
            {% csrf_token %}
            <div class="form-group">
                <label for="exampleInputEmail1">Имя пользователя</label>
                <input type="text" class="form-control" id="exampleInputEmail1"  placeholder="Введите логин" name="username">
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Пароль</label>
                <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Введите пароль" name="password">
            </div>

            <button type="submit" value="login" class="btn btn-primary btn-block">Войти</button>
            <input type="hidden" name="next" value="{% url 'index' %}">
            <br>
            <div class="row justify-content-center">
                <a href="{% url 'password_reset' %}">Забыли пароль?</a>
            </div>

            <!--
            <a href="{% url 'password_change' %}">password_change</a>
            <a href="../password_change/done">password_change_done</a>
            <a href="../password_reset/">password_reset</a>
            <a href="../password_reset/done/">password_reset_done</a>
            <a href="../">password_reset_confirm</a>
            <a href="../reset/done/">password_reset_complete</a>
            -->
            <br>
            {% if form.errors %}
            <div class="row justify-content-center">
                <p>Пользователь не найден, попробуйте еще раз.</p>
            </div>
            <div class="row justify-content-center">
                <p></p>
            </div>

            {% endif %}

            {% if next %}
                {% if user.is_authenticated %}
                    <div class="row justify-content-center">
                        <p>У вас нет доступа к этой странице.</p>
                    </div>

                {% else %}
                    <div class="row justify-content-center">
                        <p>Пожалуйста, авторизируйтесь для просмотра этой страницы.</p>
                    </div>
                {% endif %}
            {% endif %}

        </form>
    </div>
{% endblock %}